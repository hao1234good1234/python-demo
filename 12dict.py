"""
**å­—å…¸ï¼ˆdictï¼‰** â†’ é”®å€¼å¯¹å­˜å‚¨
"""
# ç‰¹ç‚¹ï¼š
# - **é€šè¿‡åå­—ï¼ˆkeyï¼‰å¿«é€Ÿè®¿é—®æ•°æ®**
# - **åŠ¨æ€å¢åˆ å­—æ®µ**
# - **å¤©ç„¶æ”¯æŒç»“æ„åŒ–æ•°æ®**ï¼ˆå¦‚ JSONï¼‰
# **é”®å¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹**ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—ã€å…ƒç»„ï¼‰, âŒ åˆ—è¡¨ã€å­—å…¸ä¸èƒ½åšé”®ï¼ˆå› ä¸ºå¯å˜ï¼Œæ— æ³•å“ˆå¸Œï¼‰
# ğŸ”¸ å­—å…¸æ˜¯**å¯å˜å¯¹è±¡**ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯**åŸåœ°ä¿®æ”¹**ï¼
# âœ… **æœ€ä½³å®è·µ**ï¼šé€šè¿‡é”®è·å–å€¼ï¼Œä¼˜å…ˆç”¨ `.get()` é¿å…ç¨‹åºå´©æºƒï¼
# âŒ ä¸è¦ç”¨ .get() åˆ¤æ–­å­˜åœ¨æ€§ï¼ˆæ•ˆç‡ä½ä¸”ä¸ç›´è§‚ï¼‰
# âœ… **é»„é‡‘æ³•åˆ™**ï¼šç”¨ `key in dict` åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨ï¼
# è‡ª Python 3.7 èµ·ï¼Œå­—å…¸ä¿æŒæ’å…¥é¡ºåºï¼ˆå®˜æ–¹è¯­è¨€è§„èŒƒä¿è¯ï¼‰ã€‚


# äºŒã€åˆ›å»ºå­—å…¸
# 1. åŸºæœ¬è¯­æ³•ï¼š**èŠ±æ‹¬å· `{}` + å†’å· `:`
# ç©ºå­—å…¸
empty = {}

# å¸¦æ•°æ®çš„å­—å…¸
student = {"name": "lisi", "score": 90, "is_pass": True}

# é”®å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•°å­—ã€å…ƒç»„(ä¸å¯å˜ç±»å‹)
config = {"host": "localhost", 8080: "ç«¯å£", (0, 0): "åŸç‚¹"}

# âš ï¸ **é”®å¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹**ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—ã€å…ƒç»„ï¼‰
# âŒ åˆ—è¡¨ã€å­—å…¸ä¸èƒ½åšé”®ï¼ˆå› ä¸ºå¯å˜ï¼Œæ— æ³•å“ˆå¸Œï¼‰

# 2. ç”¨ `dict()` æ„é€ å‡½æ•°
# æ–¹å¼1ï¼šå…³é”®å­—å‚æ•°ï¼ˆé”®å¿…é¡»æ˜¯åˆæ³•æ ‡è¯†ç¬¦ï¼‰
user = dict(name="zhangsan", age=30)
print(user)
# æ–¹å¼2ï¼šé”®å€¼å¯¹åˆ—è¡¨
user = dict([("name", "lisi"), ("age", 29)])
print(user)

# æ–¹å¼3ï¼šzip åˆå¹¶ä¸¤ä¸ªåˆ—è¡¨
keys = ["name", "age", "sex"]
values = ["å°æ˜", 29, "ç”·"]
d = dict(zip(keys, values))  # é”®å€¼å¯¹åˆ—è¡¨ â†’ { "name": "å°æ˜", "age": 29, "sex": "ç”·"}
print(d)

# ğŸ” ä¸‰ã€è®¿é—®å­—å…¸çš„å€¼
# 1. é€šè¿‡é”®è®¿é—®ï¼ˆæœ€å¸¸ç”¨ï¼‰
user = {"name": "zhangsan", "age": 25}
print(user["name"])  # zhangsan
# âŒ å¦‚æœé”®ä¸å­˜åœ¨ï¼Œä¼šæŠ¥é”™ï¼
# print(user["email"])  # KeyError: 'email'

# 2. å®‰å…¨è®¿é—®ï¼š`.get(key, default)`
email = user.get("email", "æœªå¡«å†™")
print(email)  # æœªå¡«å†™
score = user.get("score")
print(score)  # None

# **æœ€ä½³å®è·µ**ï¼šä¼˜å…ˆç”¨ `.get()` é¿å…ç¨‹åºå´©æºƒï¼

#  å››ã€ä¿®æ”¹å’Œæ·»åŠ é”®å€¼å¯¹
user = {"name": "æç™½"}
user["age"] = 100  # æ·»åŠ æ–°é”®å€¼å¯¹
user["name"] = "æœç”«"  # ä¿®æ”¹å·²æœ‰é”®çš„å€¼
print(user)  # {'name': 'æœç”«', 'age': 100}
# æ‰¹é‡æ›´æ–°ï¼ˆåˆå¹¶å­—å…¸ï¼‰
user.update({"sex": "ç”·", "email": "lisi@example.com"})
print(user)
# ç”¨å…³é”®å­—å‚æ•°æ›´æ–°
user.update(age=19)
print(user)
# ä¿®æ”¹é”®å¯¹åº”çš„å€¼
user.update(name="å°ç‹")
print(user)
# ğŸ”¸ `update()` ä¸ä¼šåˆ é™¤åŸæœ‰é”®ï¼Œåªä¼šæ–°å¢æˆ–è¦†ç›–ã€‚
# ğŸ”¸ å­—å…¸æ˜¯**å¯å˜å¯¹è±¡**ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯**åŸåœ°ä¿®æ”¹**ï¼

#  äº”ã€åˆ é™¤é”®å€¼å¯¹
# | æ–¹æ³•            | è¯´æ˜                                             | ç¤ºä¾‹                       |
# | --------------- | ------------------------------------------------ | -------------------------- |
# | `del dict[key]` | åˆ é™¤æŒ‡å®šé”®ï¼ˆé”®ä¸å­˜åœ¨ä¼šæŠ¥é”™ï¼‰                     | `del user["age"]`          |
# | `.pop(key)`     | åˆ é™¤å¹¶**è¿”å›å€¼**ï¼ˆå¯è®¾é»˜è®¤å€¼ï¼‰                   | `age = user.pop("age", 0)` |
# | `.popitem()`    | åˆ é™¤å¹¶è¿”å›**æœ€åä¸€ä¸ª**é”®å€¼å¯¹ï¼ˆPython 3.7+ æœ‰åºï¼‰ | `last = user.popitem()`    |
# | `.clear()`      | æ¸…ç©ºæ•´ä¸ªå­—å…¸                                     | `user.clear()`             |

user = {"name": "å°æ˜", "age": 20, "city": "ä¸Šæµ·"}
age = user.pop(
    "age"
)  # åˆ é™¤å¹¶è¿”å› age ,age = 20, user = {"name": "å°æ˜", "city": "ä¸Šæµ·"}
print(age)
print(user)
email = user.pop("email", "æœªçŸ¥")  # åˆ é™¤ emailï¼Œcity="æœªçŸ¥"ï¼ˆé”®ä¸å­˜åœ¨ï¼Œè¿”å›é»˜è®¤å€¼ï¼‰
print(email)
print(user)
last = user.popitem()
print(last)
user.clear()
print(user)
# > âœ… æ¨èç”¨ `.pop(key, default)` å®‰å…¨åˆ é™¤ï¼

# å…­ã€æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨
user = {"name": "å°çº¢"}
if "age" in user:
    print("å¹´é¾„å·²ç»è®°å½•")
else:
    print("è¯·è¡¥å……å¹´é¾„")
# âŒ ä¸è¦ç”¨ .get() åˆ¤æ–­å­˜åœ¨æ€§ï¼ˆæ•ˆç‡ä½ä¸”ä¸ç›´è§‚ï¼‰
# if user.get("age"):  # å¦‚æœ age=0 æˆ– Falseï¼Œä¼šè¯¯åˆ¤ä¸ºä¸å­˜åœ¨ï¼
# âœ… **é»„é‡‘æ³•åˆ™**ï¼šç”¨ `key in dict` åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨ï¼

#  ä¸ƒã€å­—å…¸å¸¸ç”¨æ–¹æ³•
# | æ–¹æ³•        | è¯´æ˜                                  | ç¤ºä¾‹            |
# | ----------- | ------------------------------------- | --------------- |
# | `.keys()`   | è¿”å›æ‰€æœ‰é”®ï¼ˆ**dict_keys** å¯¹è±¡ï¼‰      | `user.keys()`   |
# | `.values()` | è¿”å›æ‰€æœ‰å€¼ï¼ˆ**dict_values** å¯¹è±¡ï¼‰    | `user.values()` |
# | `.items()`  | è¿”å›æ‰€æœ‰é”®å€¼å¯¹ï¼ˆ**dict_items** å¯¹è±¡ï¼‰ | `user.items()`  |
# | `len(dict)` | è·å–é”®å€¼å¯¹æ•°é‡                        | `len(user)`     |

# âœ… éå†å­—å…¸ï¼ˆæ¨èç”¨ `.items()`ï¼‰ï¼š
user = {"name": "å°æ˜", "age": 20, "score": 89}


# è·å–å­—å…¸é•¿åº¦
print(len(user))

# è·å–æ‰€æœ‰é”®
print(list(user))

# åªéå†é”®
for key in user.keys():
    print(key)
for key in user:
    print(key)


# åªéå†å€¼
for value in user.values():
    print(value)

# éå†é”®å’Œå€¼
for key, value in user.items():
    print(f"{key}: {value}")

# ğŸ”¸ `.keys()`ã€`.values()`ã€`.items()` è¿”å›çš„æ˜¯**åŠ¨æ€è§†å›¾**ï¼Œä¸æ˜¯åˆ—è¡¨ï¼
# å¦‚éœ€åˆ—è¡¨ï¼Œç”¨ `list(dict.keys())`

# ğŸ”„ å…«ã€å­—å…¸çš„é«˜çº§æ“ä½œ

# 1. å­—å…¸åˆå¹¶ï¼ˆPython 3.9+ï¼‰
d1 = {"a": 1, "b": 2}
d2 = {"b": 3, "c": 4}
# æ–¹æ³•1ï¼šåˆå¹¶æ“ä½œç¬¦ï¼ˆæ¨èï¼‰
merged = d1 | d2
print(merged)  # {'a': 1, 'b': 3, 'c': 4}
# æ–¹æ³•2ï¼šæ›´æ–°æ“ä½œç¬¦ï¼ˆåŸåœ°ä¿®æ”¹ï¼‰
d1 |= d2
print(d1)  # {'a': 1, 'b': 3, 'c': 4}

# 2. **æ—§ç‰ˆæœ¬åˆå¹¶æ–¹å¼**
# Python 3.5+
merged = {**d1, **d2}
print(merged)
# é€šç”¨æ–¹æ³•
merged = d1.copy()
merged.update(d2)
print(merged)
# Python 3.6+
merged = dict(d1, **d2)
print(merged)

# 3. **å­—å…¸æ¨å¯¼å¼ï¼ˆç±»ä¼¼åˆ—è¡¨æ¨å¯¼å¼ï¼‰**
# å°†åˆ—è¡¨è½¬ä¸ºå­—å…¸
fruits = ["apple", "banana", "orange"]
fruit_len = {f: len(f) for f in fruits}
print(fruit_len) # {'apple': 5, 'banana': 6, 'orange': 6}

# å¸¦æ¡ä»¶
squares = {x: x ** 2 for x in range(1, 8) if x % 2 == 0}
print(squares) # {2: 4, 4: 16, 6: 36}

#  ä¹ã€å­—å…¸ vs å…¶ä»–æ•°æ®ç»“æ„
# | ç‰¹æ€§         | å­—å…¸ï¼ˆdictï¼‰       | åˆ—è¡¨ï¼ˆlistï¼‰       | å…ƒç»„ï¼ˆtupleï¼‰    |
# | ------------ | ------------------ | ------------------ | ---------------- |
# | **ç»“æ„**     | é”®å€¼å¯¹             | æœ‰åºåºåˆ—           | æœ‰åºåºåˆ—         |
# | **è®¿é—®æ–¹å¼** | é€šè¿‡é”®ï¼ˆåå­—ï¼‰     | é€šè¿‡ç´¢å¼•ï¼ˆä½ç½®ï¼‰   | é€šè¿‡ç´¢å¼•ï¼ˆä½ç½®ï¼‰ |
# | **å¯å˜æ€§**   | âœ… å¯å˜             | âœ… å¯å˜             | âŒ ä¸å¯å˜         |
# | **ç”¨é€”**     | å­˜å‚¨**ç»“æ„åŒ–ä¿¡æ¯** | å­˜å‚¨**åŒç±»å‹é›†åˆ** | å­˜å‚¨**å›ºå®šè®°å½•** |
# åˆ—è¡¨ï¼šåŒç±»å‹æ•°æ®
scores = [85, 92, 78]

# å­—å…¸ï¼šå¼‚æ„ç»“æ„åŒ–æ•°æ®
student = {
    "name": "Alice",
    "scores": [85, 92, 78],  # å­—å…¸é‡Œå¯ä»¥åµŒå¥—åˆ—è¡¨ï¼
    "grade": "A"
}

'''
å®æˆ˜é¡¹ç›®ï¼šç®€æ˜“é€šè®¯å½•
'''
print("======é€šè®¯å½•=====")
contacts = {}

while True:
    print("\n 1. æ·»åŠ è”ç³»äºº")
    print(" 2. æŸ¥æ‰¾è”ç³»äºº")
    print(" 3. åˆ é™¤è”ç³»äºº")
    print(" 4. æ˜¾ç¤ºæ‰€æœ‰è”ç³»äºº")
    print(" 5. é€€å‡º")

    choice = input("è¯·é€‰æ‹©æ“ä½œï¼š")
    if choice == "1":
        name = input("å§“åï¼š")
        phone = input("ç”µè¯ï¼š")
        contacts[name] = phone
        print(f"æ·»åŠ è”ç³»äºº[{name}]æˆåŠŸï¼")
    elif choice == "2":
        name = input("è¯·è¾“å…¥è¦æŸ¥æ‰¾çš„å§“åï¼š")
        phone = contacts.get(name, "æœªæ‰¾åˆ°")
        print(f"{name} : {phone}")
    elif choice == "3":
        name = input("è¯·è¾“å…¥è¦åˆ é™¤çš„å§“åï¼š")
        if name in contacts:
            contacts.pop(name)
            print(f"åˆ é™¤è”ç³»äºº[{name}]æˆåŠŸï¼")
        else:
            print("æœªæ‰¾åˆ°è¯¥è”ç³»äººï¼")
    elif choice == "4":
        if contacts: # åˆ¤æ–­å­—å…¸æ˜¯å¦ä¸ºç©º
            print("\n æ‰€æœ‰è”ç³»äººï¼š")
            for name, phone in contacts.items():
                print(f"{name} : {phone}")
        else:
            print("é€šè®¯å½•ä¸ºç©ºï¼")
    elif choice == "5":
        print("å†è§ï¼ï¼")
        break
    else:
        print("æ— æ•ˆé€‰é¡¹ï¼Œè¯·é‡è¯•ï¼")


# åä¸€ã€å¸¸è§é”™è¯¯ & é¿å‘æŒ‡å—

# | é”™è¯¯                          | è¯´æ˜        | æ­£ç¡®åšæ³•                                   |
# | ----------------------------- | ----------- | ------------------------------------------ |
# | ç”¨ä¸å­˜åœ¨çš„é”®ç›´æ¥è®¿é—®          | `KeyError`  | ç”¨ `.get(key, default)`                    |
# | ç”¨åˆ—è¡¨åšé”®                    | `TypeError` | é”®å¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹                         |
# | ä¿®æ”¹å­—å…¸æ—¶éå†                | è¿è¡Œæ—¶é”™è¯¯  | éå† `.keys()` çš„å‰¯æœ¬ï¼š`list(dict.keys())` |
# | è¯¯ä»¥ä¸ºå­—å…¸æœ‰åºï¼ˆPython <3.6ï¼‰ | æ—§ç‰ˆæœ¬æ— åº  | Python 3.7+ å­—å…¸**ä¿è¯æ’å…¥é¡ºåº**           |


'''
åŠ¨æ‰‹ç»ƒä¹ 
'''
# ç»ƒä¹ 1ï¼šç»Ÿè®¡å­—ç¬¦å‡ºç°çš„æ¬¡æ•°
text = "hello"
freq = {}
for char in text:
    freq[char] = freq.get(char, 0) + 1
print(freq) # {'h': 1, 'e': 1, 'l': 2, 'o': 1}

# ç»ƒä¹ 2ï¼šåˆå¹¶ä¸¤ä¸ªå­—å…¸
d1 = { "a": 1, "b": 2}
d2 = { "b": 3, "c": 4}
merged = d1 | d2
print(merged) # {'a': 1, 'b': 3, 'c': 4}

# ç»ƒä¹ 3ï¼šå­—å…¸æ¨å¯¼å¼
squares = {x: x ** 2 for x in range(1, 5)}
print(squares)



